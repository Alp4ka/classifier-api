syntax = "proto3";

package api;
option go_package = ".;api";


message AcquireSessionRequest {
  string agent = 1;
  string gateway = 2;
}

message AcquireSessionResponse {
  string session_id = 1;
}

message ReleaseSessionRequest {
  string session_id = 1;
}

message ReleaseSessionResponse {
}

message ProcessRequest {
  optional string session_id = 1;
  string request_data = 2;
  string request_id = 3;
}

message ProcessResponse {
  optional string response_data = 1;
  bool end = 2;
  bool request_required = 3;
  bool response_required = 4;
}

service GWManagerService {
  rpc AcquireSession(AcquireSessionRequest) returns (AcquireSessionResponse);
  rpc ReleaseSession(ReleaseSessionRequest) returns (ReleaseSessionResponse);
  rpc Process(stream ProcessRequest) returns (stream ProcessResponse);
}